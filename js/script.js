const menuBtns=document.querySelectorAll(".js-toggleMenu");menuBtns?.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.dataset?.menu;document.getElementById(t)?.classList.toggle("menu--visible")}))}));const mediaQueryList=window.matchMedia("(min-width: 768px)");mediaQueryList.addEventListener("change",(e=>{const t=document.querySelector(".menu--visible");e.matches&&t?.classList.remove("menu--visible")}));const mainSlider=document.querySelector(".swiper-main-slider");if(mainSlider){new Swiper(".swiper-main-slider",{initialSlide:Number(localStorage.getItem("activeSlide"))||0,on:{activeIndexChange:function(){localStorage.setItem("activeSlide",this.realIndex)}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}const porfolioSlider=document.querySelector(".swiper-portfolio-slider");if(porfolioSlider){new Swiper(".swiper-portfolio-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}const modalBtns=document.querySelectorAll(".js-toggleModal");modalBtns?.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget.dataset?.modal;document.getElementById(t)?.classList.toggle("modal--is-open")}))})),document.addEventListener("keydown",(e=>{if("Escape"===e.key){document.querySelector(".modal--is-open")?.classList.remove("modal--is-open")}}));const forms=document.querySelectorAll(".js-contactForm");forms?.forEach((e=>{e.noValidate=!0;e.querySelectorAll(".js-approvedCheckbox")?.forEach((t=>{t.addEventListener("click",(()=>{const s=e.querySelector(".js-submitBtn");t.checked?s?.removeAttribute("disabled"):s?.setAttribute("disabled",!0)}))}));const t=e.querySelectorAll(".js-validFormField");e.addEventListener("submit",(s=>{s.preventDefault(),e.querySelectorAll(".contacts-form__message, .contacts-form__message--error, .contacts-form__message--right")?.forEach((e=>{e.remove()})),t?.forEach((e=>{e.classList.remove("custom-form-field--error","custom-form-field--right")})),t?.forEach((t=>{const s="contacts-form__message",o="contacts-form__message--error",r="contacts-form__message--right",a="contacts-form__field--error",n="contacts-form__field--right";function l(e,l){const i=document.createElement("span");i.className=`${s} ${e}`,i.innerText=l,t.parentElement?.insertAdjacentElement("beforeend",i),e===o?t.classList.add(a):e===r&&t.classList.add(n)}function i(e,s){t.value?!1===e?l(o,s):l(r,c.right):l(o,c.empty)}const c={right:"All right",empty:"This field is required",email:'Please enter a valid email address (your entry is not in the format "somebody@example.com" or "somebody@local")',password:{isFalse:"Your password must contain letters and numbers",repeat:"Passwords do not match. Please check the identity of the passwords in both fields"},phone:'Please enter a valid phone number (your entry is not in the format "+7 977 777 77 77")',age:"Please enter a correct age"},d={email:/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,phone:/^(\s*)?(\+)?([-_():=+]?\d[- _():=+]?){10,14}(\s*)?$/,password:/^[0-9a-z]+/i},m={validEmail:d.email.test(t.value),validPhone:d.phone.test(t.value),validPassword:d.password.test(t.value)};switch(t.type){case"email":i(m.validEmail,c.email);break;case"password":if("password"===t.name)i(m.validPassword,c.password.isFalse);else if("password-repeat"===t.name){const s=e.querySelector(".password"),a=e.querySelector(".password-repeat");t.value?a?.value!==s?.value&&""!==a?.value?l(o,c.password.repeat):a?.value===s?.value&&""!==a?.value&&l(r,c.right):l(o,c.empty)}break;case"tel":i(m.validPhone,c.phone);break;case"number":"age"===t.name&&(t.value?!1==(u=t.value,!(isNaN(u)||""===u||u<=0))?l(o,c.age):l(r,c.right):l(o,c.empty));break;default:i()}var u}))}))}));const scrollBtn=document.querySelector(".js-scrollToUpBtn");window.addEventListener("scroll",(()=>{scrollBtn?.classList.toggle("scroll-btn-up--is-active",window.scrollY>1e3)})),scrollBtn?.addEventListener("click",(()=>{window.scrollTo(0,0)}));const fileInputs=document.querySelectorAll(".js-setFileName");fileInputs?.forEach((e=>{e.addEventListener("change",(t=>{const s=e.files[0]?.name;document.querySelector(".custom-file__name").innerText=function(e){if(!e){return"File is not chosen!"}}(s)||function(e){if(e.length>20){return e.slice(0,15)+"..."+e.split(".").pop()}return e}(s)}))}));